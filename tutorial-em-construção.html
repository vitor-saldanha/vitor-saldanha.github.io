<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Vitor Saldanha: Tutorial em Construção</title>

  <meta property="description" itemprop="description" content="Tutorial em Construção em R."/>

  <link rel="icon" type="image/png" href="my-favicon.png"/>


  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Vitor Saldanha: Tutorial em Construção"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Tutorial em Construção em R."/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:site_name" content="Vitor Saldanha"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Vitor Saldanha: Tutorial em Construção"/>
  <meta property="twitter:description" content="Tutorial em Construção em R."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","output"]}},"value":[{"type":"character","attributes":{},"value":["Tutorial em Construção"]},{"type":"character","attributes":{},"value":["Tutorial em Construção em R.\n"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["highlight","highlight_downlit"]}},"value":[{"type":"character","attributes":{},"value":["pygments"]},{"type":"logical","attributes":{},"value":[false]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  <!--radix_placeholder_navigation_in_header-->
  <meta name="distill:offset" content=""/>

  <script type="application/javascript">

    window.headroom_prevent_pin = false;

    window.document.addEventListener("DOMContentLoaded", function (event) {

      // initialize headroom for banner
      var header = $('header').get(0);
      var headerHeight = header.offsetHeight;
      var headroom = new Headroom(header, {
        tolerance: 5,
        onPin : function() {
          if (window.headroom_prevent_pin) {
            window.headroom_prevent_pin = false;
            headroom.unpin();
          }
        }
      });
      headroom.init();
      if(window.location.hash)
        headroom.unpin();
      $(header).addClass('headroom--transition');

      // offset scroll location for banner on hash change
      // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
      window.addEventListener("hashchange", function(event) {
        window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
      });

      // responsive menu
      $('.distill-site-header').each(function(i, val) {
        var topnav = $(this);
        var toggle = topnav.find('.nav-toggle');
        toggle.on('click', function() {
          topnav.toggleClass('responsive');
        });
      });

      // nav dropdowns
      $('.nav-dropbtn').click(function(e) {
        $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
        $(this).parent().siblings('.nav-dropdown')
           .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $("body").click(function(e){
        $('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $(".nav-dropdown").click(function(e){
        e.stopPropagation();
      });
    });
  </script>

  <style type="text/css">

  /* Theme (user-documented overrideables for nav appearance) */

  .distill-site-nav {
    color: rgba(255, 255, 255, 0.8);
    background-color: #0F2E3D;
    font-size: 15px;
    font-weight: 300;
  }

  .distill-site-nav a {
    color: inherit;
    text-decoration: none;
  }

  .distill-site-nav a:hover {
    color: white;
  }

  @media print {
    .distill-site-nav {
      display: none;
    }
  }

  .distill-site-header {

  }

  .distill-site-footer {

  }


  /* Site Header */

  .distill-site-header {
    width: 100%;
    box-sizing: border-box;
    z-index: 3;
  }

  .distill-site-header .nav-left {
    display: inline-block;
    margin-left: 8px;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header .nav-left {
      margin-left: 0;
    }
  }


  .distill-site-header .nav-right {
    float: right;
    margin-right: 8px;
  }

  .distill-site-header a,
  .distill-site-header .title {
    display: inline-block;
    text-align: center;
    padding: 14px 10px 14px 10px;
  }

  .distill-site-header .title {
    font-size: 18px;
    min-width: 150px;
  }

  .distill-site-header .logo {
    padding: 0;
  }

  .distill-site-header .logo img {
    display: none;
    max-height: 20px;
    width: auto;
    margin-bottom: -4px;
  }

  .distill-site-header .nav-image img {
    max-height: 18px;
    width: auto;
    display: inline-block;
    margin-bottom: -3px;
  }



  @media screen and (min-width: 1000px) {
    .distill-site-header .logo img {
      display: inline-block;
    }
    .distill-site-header .nav-left {
      margin-left: 20px;
    }
    .distill-site-header .nav-right {
      margin-right: 20px;
    }
    .distill-site-header .title {
      padding-left: 12px;
    }
  }


  .distill-site-header .nav-toggle {
    display: none;
  }

  .nav-dropdown {
    display: inline-block;
    position: relative;
  }

  .nav-dropdown .nav-dropbtn {
    border: none;
    outline: none;
    color: rgba(255, 255, 255, 0.8);
    padding: 16px 10px;
    background-color: transparent;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    margin: 0;
    margin-top: 1px;
    z-index: 2;
  }

  .nav-dropdown-content {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 200px;
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 4px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
    z-index: 1;
    margin-top: 2px;
    white-space: nowrap;
    padding-top: 4px;
    padding-bottom: 4px;
  }

  .nav-dropdown-content hr {
    margin-top: 4px;
    margin-bottom: 4px;
    border: none;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .nav-dropdown-active {
    display: block;
  }

  .nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
    color: black;
    padding: 6px 24px;
    text-decoration: none;
    display: block;
    text-align: left;
  }

  .nav-dropdown-content .nav-dropdown-header {
    display: block;
    padding: 5px 24px;
    padding-bottom: 0;
    text-transform: uppercase;
    font-size: 14px;
    color: #999999;
    white-space: nowrap;
  }

  .nav-dropdown:hover .nav-dropbtn {
    color: white;
  }

  .nav-dropdown-content a:hover {
    background-color: #ddd;
    color: black;
  }

  .nav-right .nav-dropdown-content {
    margin-left: -45%;
    right: 0;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
    .distill-site-header a.nav-toggle {
      float: right;
      display: block;
    }
    .distill-site-header .title {
      margin-left: 0;
    }
    .distill-site-header .nav-right {
      margin-right: 0;
    }
    .distill-site-header {
      overflow: hidden;
    }
    .nav-right .nav-dropdown-content {
      margin-left: 0;
    }
  }


  @media screen and (max-width: 768px) {
    .distill-site-header.responsive {position: relative; min-height: 500px; }
    .distill-site-header.responsive a.nav-toggle {
      position: absolute;
      right: 0;
      top: 0;
    }
    .distill-site-header.responsive a,
    .distill-site-header.responsive .nav-dropdown {
      display: block;
      text-align: left;
    }
    .distill-site-header.responsive .nav-left,
    .distill-site-header.responsive .nav-right {
      width: 100%;
    }
    .distill-site-header.responsive .nav-dropdown {float: none;}
    .distill-site-header.responsive .nav-dropdown-content {position: relative;}
    .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
      display: block;
      width: 100%;
      text-align: left;
    }
  }

  /* Site Footer */

  .distill-site-footer {
    width: 100%;
    overflow: hidden;
    box-sizing: border-box;
    z-index: 3;
    margin-top: 30px;
    padding-top: 30px;
    padding-bottom: 30px;
    text-align: center;
  }

  /* Headroom */

  d-title {
    padding-top: 6rem;
  }

  @media print {
    d-title {
      padding-top: 4rem;
    }
  }

  .headroom {
    z-index: 1000;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
  }

  .headroom--transition {
    transition: all .4s ease-in-out;
  }

  .headroom--unpinned {
    top: -100px;
  }

  .headroom--pinned {
    top: 0;
  }

  /* adjust viewport for navbar height */
  /* helps vertically center bootstrap (non-distill) content */
  .min-vh-100 {
    min-height: calc(100vh - 100px) !important;
  }

  </style>

  <script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"/>
  <link href="site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"/>
  <script src="site_libs/headroom-0.9.4/headroom.min.js"></script>
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
    font-size: 100%;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  hr.section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    margin: 0px;
  }


  d-byline {
    border-top: none;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
    border-top: none;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  /* tweak for Pandoc numbered line within distill */
  d-article pre.numberSource code > span {
      left: -2em;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // separator
    var separator = '<hr class="section-separator" style="clear: both"/>';
    // prepend separator above appendix
    $('.d-byline').before(separator);
    $('.d-article').before(separator);

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme, except when numbering line
    // in code chunk
    $('pre:not(.numberLines) code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        var author_name = front_matter.authors[i].author
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        const citeChild = $(this).children()[0]
        // Do not process if @xyz has been used without escaping and without bibliography activated
        // https://github.com/rstudio/distill/issues/466
        if (citeChild === undefined) return true

        if (citeChild.nodeName == "D-FOOTNOTE") {
          var fn = citeChild
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          // Could use CSS.escape too here, we insure backward compatibility in navigator
          return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="site_libs/header-attrs-2.30/header-attrs.js"></script>
  <script src="site_libs/clipboard-2.0.6/clipboard.min.js"></script>
  <link href="site_libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
  <script src="site_libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
  <script>window.xaringanExtraClipboard(null, {"button":"Copiar","success":"Copiado!","error":"Pressione Ctrl+C para copiar"})</script>
  <script src="site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <style type="text/css">
  /* =========================================
     FONTE: ROBOTO (Visual Google/Clean)
     ========================================= */
  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap');

  html, body, h1, h2, h3, h4, h5, h6, 
  p, a, li, span, div, button, input, textarea,
  .distill-site-header, .d-title, .d-article, .distill-site-footer {
    font-family: 'Roboto', sans-serif !important;
  }

  /* =========================================
     REMOVE O ÍCONE DE ÂNCORA NOS TÍTULOS
     ========================================= */
  .anchor-section {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
  }

  /* Garante que não fique espaço vazio no lugar dele */
  h1, h2, h3, h4, h5, h6 {
    pointer-events: none; /* Remove a interação de clique extra no título se houver */
  }

  /* Reabilita o clique no texto do título (caso queira selecionar o texto) */
  h1 > span, h2 > span, h3 > span {
    pointer-events: auto;
  }

  /*  Barra de navegação */
  .distill-site-header {
    background-color: #005f73; /* Seu verde */
    font-size: 18px;
    position: fixed !important;
    z-index: 1000000 !important;
  }

  /* Foto redonda */
  .profile-pic {
    border-radius: 50%;
    width: 180px;
    height: 180px;
    object-fit: cover;
    border: 4px solid #005f73; /* Borda verde */
    margin-bottom: 20px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }

  /* Container da Home (CORRIGIDO PARA CENTRALIZAR CORRETAMENTE) */
  .home-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    
    /* O TRUQUE MATEMÁTICO: */
    /* Altura total (100vh) MENOS o espaço da barra e um respiro (80px) */
    min-height: calc(100vh - 80px); 
    
    text-align: center;
    margin: 0 auto;
    padding: 0;
  }

  /* 6. Botões */
  .btn-personalizado {
    background-color: #005f73; /* Verde */
    color: white !important;
    padding: 12px 30px;
    margin: 10px;
    border-radius: 30px;
    text-decoration: none !important;
    font-weight: bold;
    display: inline-block;
    transition: 0.3s;
    border: 1px solid #005f73;
  }

  .btn-personalizado:hover {
    background-color: white;
    color: #005f73 !important;
    cursor: pointer;
  }

  /* 7. Botão de Email */
  .btn-email {
    background-color: transparent;
    color: #005f73 !important;
    border: 2px solid #005f73;
    padding: 10px 25px;
    margin-top: 15px;
    border-radius: 30px;
    text-decoration: none !important;
    font-weight: bold;
    display: inline-block;
    transition: 0.3s;
  }

  .btn-email:hover {
    background-color: #003f4c;
    color: white !important;
  }

  /* 8. Linha Separadora */
  .separator {
    width: 60%;
    border: 0;
    border-top: 1px solid #ccc;
    margin: 30px auto;
  }

  /* --- GRID (A estrutura que segura os cartões) --- */
  /* --- GRID (Mais juntinho) --- */
  .tutorial-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;             /* <--- Juntei mais (era 20px) */
    max-width: 1000px;
    margin: 30px auto;     /* Reduzi a margem vertical também */
    padding: 0 10px;
  }

  /* --- O CARTÃO (Blindado contra linhas do Distill) --- */
  .meu-cartao {
    background-color: white;
    border-radius: 15px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    width: 260px; 
    min-width: 260px;
    
    /* A MÁGICA CONTRA AS LINHAS: */
    text-decoration: none !important;
    border-bottom: none !important;     /* Remove borda padrão */
    background-image: none !important;  /* Remove sublinhado gradiente do Distill */
    border: 1px solid #e0e0e0;          /* Mantém apenas a borda da caixinha */
    
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  }

  /* --- SELETOR DE SEGURANÇA MÁXIMA --- */
  /* Isso garante que o Distill não coloque linha nem se ele quiser muito */
  d-article a.meu-cartao, 
  d-article a.meu-cartao:hover {
    border-bottom: none !important;
    text-decoration: none !important;
    background-image: none !important;
  }

  /* --- TOPO DO CARTÃO (Verde) --- */
  .cartao-topo {
    background-color: #005f73;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .cartao-icone {
    color: white;
    font-size: 24px;
  }

  /* --- CORPO DO CARTÃO --- */
  .cartao-corpo {
    padding: 20px;
    text-align: center;
  }

  .cartao-titulo {
    display: block;
    color: #333;
    font-size: 1.3rem;
    font-weight: 800;
    margin-bottom: 8px;
    border-bottom: none !important; /* Garantia extra */
  }

  .cartao-desc {
    color: #666;
    font-size: 0.9rem;
    line-height: 1.4;
  }

  /* --- EFEITO HOVER --- */
  .meu-cartao:hover {
    transform: translateY(-5px) scale(1.02);
    box-shadow: 0 15px 30px rgba(0,0,0,0.15);
    border-color: #005f73;
    border-bottom: none !important; /* Garante que a linha não apareça nem no mouse over */
  }



  /* -------------------------------------------------------------
  /* --- GRID (Para organizar os cards) --- */
  .tutorial-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;               /* Diminuí o espaço entre eles também */
    margin: 40px auto;
    padding: 0 10px;
  }

  /* --- O CARD (Versão Compacta) --- */
  .card-blog {
    background-color: white;
    border: 1px solid #e5e5e5;
    border-radius: 12px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    overflow: hidden;
    
    /* MUDANÇA AQUI: Tamanhos menores */
    width: 100%;             
    max-width: 260px;        /* <--- De 320px para 260px */
    min-width: 240px;
    
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    text-decoration: none !important;
  }

  /* Efeito Hover */
  .card-blog:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
  }

  /* A Imagem do Topo (Menor) */
  .card-img-top {
    width: 100%;
    height: 150px;             /* <--- De 200px para 150px */
    object-fit: cover;
    border-bottom: 1px solid #eee;
  }

  /* O Corpo do Texto (Mais compacto) */
  .card-body {
    padding: 15px;             /* <--- De 24px para 15px */
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  /* Título (Fonte levemente menor) */
  .card-title {
    font-size: 1.1rem;         /* <--- Diminuí um pouco a fonte */
    font-weight: 700;
    color: #111;
    margin: 10px 0 15px 0;
    line-height: 1.3;
  }

  /* A Etiqueta (Trending/Categoria) */
  .card-tag {
    background-color: #f0fdf4; /* Fundo verde bem clarinho */
    color: #005f73;            /* Seu verde */
    border: 1px solid #bbf7d0;
    border-radius: 4px;
    padding: 2px 10px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    display: inline-flex;
    align-items: center;
    gap: 5px;
    margin-bottom: 15px;
  }

  /* O Botão (Read More) */
  .card-btn {
    background-color: #005f73;
    color: white !important;
    padding: 10px 20px;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 500;
    text-decoration: none !important;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: background-color 0.2s;
  }

  .card-btn:hover {
    background-color: #004655; /* Verde um pouco mais escuro */
  }

  /* Regra de segurança para links do Distill */
  a.card-blog, a.card-btn {
    border-bottom: none !important;
    background-image: none !important;
  }


  /* =========================================
     BOTÕES DA HOME (Estilo ZacharyCrespin)
     ========================================= */

  .btn-novo {
    cursor: pointer;
    font-weight: 700;
    font-family: Helvetica, sans-serif;
    transition: all .2s;
    padding: 12px 25px;       /* Um pouco mais de espaço interno */
    border-radius: 100px;
    background: #005f73;      /* SEU VERDE */
    border: 1px solid transparent;
    
    /* Comportamento de Link/Botão */
    display: inline-flex;     /* Garante que ícone e texto fiquem na linha */
    align-items: center;
    justify-content: center;
    
    font-size: 16px;
    color: white !important;  /* Texto branco */
    text-decoration: none !important; /* Remove sublinhado */
    margin: 10px;             /* Espaço entre os botões */
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  }

  /* Efeito Hover (Mouse em cima) */
  .btn-novo:hover {
    background: #003f4c;      /* Verde um pouquinho mais escuro */
    color: white !important;
    box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    transform: translateY(-2px); /* Sobe um pouquinho */
  }

  /* Efeito Active (Ao clicar) */
  .btn-novo:active {
    transform: scale(0.95);
  }

  /* Configuração do Ícone SVG */
  .btn-novo > svg {
    width: 34px;
    margin-left: 10px;
    transition: transform .3s ease-in-out;
  }

  /* A animação da seta indo para o lado */
  .btn-novo:hover svg {
    transform: translateX(5px);
  }

  .btn-email {
    background-color: transparent;
    color: #005f73 !important;
    border: 2px solid #005f73;
    
    /* AQUI QUE AUMENTA O TAMANHO: */
    padding: 15px 40px;      /* Mais espaço interno (Altura x Largura) */
    font-size: 1.2rem;       /* Letra maior */
    min-width: 280px;        /* Garante uma largura mínima imponente */
    
    margin-top: 15px;
    border-radius: 50px;     /* Mais arredondado */
    text-decoration: none !important;
    font-weight: 800;        /* Negrito mais forte */
    display: inline-block;
    transition: 0.3s;
    cursor: pointer;
    font-family: inherit;
  }

  .btn-email:hover {
    background-color: #005f73;
    color: white !important;
    transform: scale(1.05);  /* Cresce um pouquinho ao passar o mouse */
  }

  /* =========================================
     CARTÃO DE AUTOR E DATA (RODAPÉ)
     ========================================= */

  .author-footer {
    background-color: #f8f9fa;
    border-left: 4px solid #005f73;
    
    /* MUDANÇA AQUI: */
    /* Topo: 25px | Direita: 25px | Baixo: 10px | Esquerda: 25px */
    padding: 25px 25px 10px 25px; 
    
    border-radius: 0 12px 12px 0;
    margin-top: 60px;
    font-family: 'Inter', Helvetica, sans-serif;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
  }

  .author-name {
    font-weight: 800;
    color: #333;
    font-size: 1.1rem;
    margin-bottom: 8px;
    display: block;
  }

  .author-bio {
    color: #555;
    font-size: 0.95rem;
    line-height: 1.5;
    margin-bottom: 15px;
  }

  .post-meta-date {
    font-size: 0.85rem;
    color: #999;
    border-top: 1px solid #e9ecef; /* Linha fina separando a data */
    padding-top: 10px;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  /* =========================================
     1. ESTILO DO MENU LATERAL (TOC)
     ========================================= */

  /* Título "Contents" */
  .d-contents nav h3 {
    color: #005f73 !important; /* Verde do tema */
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 1.5px;
    font-weight: 800;
    margin-bottom: 15px;
  }

  /* Os Links do Menu */
  .d-contents nav a {
    color: #888 !important;     /* Cinza suave */
    border-left: 2px solid #eee; /* Linha cinza clara à esquerda */
    padding: 5px 0 5px 15px;     /* Espaçamento */
    text-decoration: none !important;
    transition: all 0.3s ease;
    font-size: 0.9rem;
  }

  /* Efeito ao passar o mouse (Hover) */
  .d-contents nav a:hover {
    color: #005f73 !important;   /* Texto fica verde */
    border-left: 3px solid #005f73; /* A linha fica verde e grossa */
    background: linear-gradient(to right, #f4fcf4, transparent); /* Fundo degradê suave */
    padding-left: 20px;          /* O texto "anda" um pouco para a direita */
  }

  /* =========================================
     2. SEÇÃO DE RECOMENDAÇÕES (FINAL DA PÁGINA)
     ========================================= */

  .rec-section {
    margin-top: 80px;
    padding-top: 40px;
    border-top: 1px dashed #ddd;
  }

  .rec-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: #333;
    margin-bottom: 25px;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  /* GRID APENAS PARA OS 3 CARDS */
  .rec-grid {
    display: grid;
    /* Cria colunas automáticas, mas tenta manter 3 se houver espaço */
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
    gap: 20px;
    margin-bottom: 40px; /* Espaço entre os cards e o botão de voltar */
    justify-content: center;
  }

  /* O CARD (Estilo "Adesivo") */
  .rec-card {
    display: flex;
    flex-direction: column;
    background: white;
    border: 1px solid #f0f0f0;
    border-radius: 16px;
    padding: 20px;
    text-decoration: none !important;
    transition: 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    box-shadow: 0 4px 6px rgba(0,0,0,0.02);
    position: relative;
    overflow: hidden;
    height: 100%; /* Garante que todos tenham a mesma altura */
  }

  .rec-card::before {
    content: "";
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 4px;
    background: #005f73;
    opacity: 0.5;
    transition: 0.3s;
  }

  .rec-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(108, 156, 88, 0.15);
    border-color: #bbf7d0;
  }

  .rec-card:hover::before { opacity: 1; }

  .rec-icon {
    font-size: 1.5rem;
    color: #005f73;
    margin-bottom: 10px;
  }

  .rec-text {
    font-size: 1rem;
    font-weight: 700;
    color: #444;
    line-height: 1.3;
  }

  .rec-sub {
    font-size: 0.8rem;
    color: #999;
    margin-top: 5px;
  }

  /* --- ÁREA DO BOTÃO VOLTAR (Separada do Grid) --- */
  .rec-footer {
    text-align: center; /* Isso garante que o botão fique no meio */
    margin-top: 20px;
  }

  .rec-btn-back {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background-color: #f4fcf4; /* Fundo verde bem clarinho */
    color: #005f73 !important;
    border: 1px solid #bbf7d0;
    padding: 12px 30px;
    border-radius: 50px;       /* Formato de pílula */
    text-decoration: none !important;
    font-weight: 700;
    transition: all 0.3s ease;
  }

  .rec-btn-back:hover {
    background-color: #005f73;
    color: white !important;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(108, 156, 88, 0.2);
  }

  /* Garante que o SPAN se comporte como bloco de texto */
  .rec-text, .rec-sub {
    display: block; 
    width: 100%;
  }
  </style>
  <!--/radix_placeholder_site_in_header-->

  <link rel="stylesheet" href="styles.css" type="text/css"/>

</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Tutorial em Construção","description":"Tutorial em Construção em R.","authors":[]}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="index.html" class="title">Vitor Saldanha</a>
</div>
<div class="nav-right">
<a href="index.html">Home</a>
<a href="estatistica.html">Estatística</a>
<a href="construcao.html">Metanálise</a>
<a href="construcao.html">Blog</a>
<a href="https://github.com/vitor-saldanha">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Tutorial em Construção</h1>

<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Tutorial em Construção em R.</p></p>
</div>


<div class="d-article">
<div class="layout-chunk" data-layout="l-body">
<style type="text/css">
/* Estilo para a caixa de código */
d-article pre {
background-color: #f6f8fa !important;  /* O !important força a mudança da cor */
border: 1px solid #e1e4e8 !important;  /* Força a borda */
border-radius: 6px;        /* Cantos arredondados */
padding: 12px;             /* Espaço interno para o texto não colar na borda */
box-shadow: none;          /* Remove sombras padrões se houver */
}
</style>
</div>
<div class="layout-chunk" data-layout="l-body">
<style type="text/css">
h1, h2, h3, h4 {
  border-bottom: 1px solid #dddddd; /* Cria a linha cinza fina embaixo */
  padding-bottom: 12px;              /* Espaço entre o texto e a linha */
  margin-bottom: 18px;              /* Espaço depois da linha para o próximo parágrafo */
  margin-top: 28px;                 /* Espaço antes do título */
</style>
</div>
<h2 id="fundamentos">1. Fundamentos</h2>
<h3 id="o-que-é-tamanho-de-efeito">1.1. O que é tamanho de efeito?</h3>
<p>O tamanho de efeito é uma métrica utilizada para quantificar a relação entre duas entidades, capturando tanto a direção quanto a magnitude desse fenômeno. Diferente de um simples teste de hipótese (que diz se algo funcionou ou não), o tamanho de efeito nos diz o quanto funcionou. Essencialmente, é a moeda comum que permite comparar e combinar resultados de estudos diferentes em uma metanálise.</p>
<ul>
<li><strong>Média Amostral</strong>
<ul>
<li>Ex: “Qual é a altura média de crianças de 10 anos nesta população específica?”</li>
</ul></li>
<li><strong>Proporções</strong>
<ul>
<li>Ex: “Qual é a prevalência de burnout em profissionais de enfermagem que trabalham em UTI?”</li>
</ul></li>
<li><strong>Coeficiente de Correlação</strong> (ex: r de Pearson)
<ul>
<li>Ex: “Existe uma associação entre o nível de escolaridade dos pais e o sucesso acadêmico dos filhos?” → Ou seja, avaliar a relação de duas variáveis contínuas.</li>
</ul></li>
<li><strong>Diferença de Médias</strong> (ex: Cohen’s d, Hedges’ g)
<ul>
<li>Ex: “O novo medicamento causa uma redução maior na pressão arterial comparado ao grupo controle?” → Ou seja, comparar grupos (Intervenção vs. Controle) usando uma variável.</li>
</ul></li>
<li><strong>Razão de Chances ou Risco</strong> (Odds Ratio / Risk Ratio)
<ul>
<li>Ex: “Fumantes têm maior probabilidade de desenvolver câncer de pulmão do que não fumantes?” → Ou seja, avaliar desfechos binários (Sim/Não, Doente/Saudável, Vivo/Morto).</li>
</ul></li>
</ul>
<h3 id="entendendo-amostragem">1.2. Entendendo Amostragem</h3>
<h4 id="a-população-vs.-amostragem">a) População vs. Amostragem</h4>
<p>Imagine que quiséssemos saber o nível médio exato de Hemoglobina Glicada (HbA1c) de todos os pacientes diabéticos do mundo sob tratamento com um novo fármaco.</p>
<p>Se tivéssemos recursos infinitos, mediríamos a HbA1c de cada um desses milhões de pacientes. Ao final, teríamos uma distribuição com uma média exata (ex: 7,5%) e um desvio padrão exato. Na estatística, chamamos esses valores de Parâmetros Populacionais. Eles representam a verdade biológica absoluta sobre aquele tratamento.</p>
<p>o mundo real, nunca temos tempo, dinheiro ou capacidade logística para medir a população inteira. É aqui que entra a ciência prática: nós fazemos uma <strong>Amostragem</strong>.</p>
<p>Quando um pesquisador publica um Ensaio Clínico Randomizado (RCT) com 100 pacientes para testar esse fármaco, ele está pegando apenas uma pequena fatia da população global. Com base nos dados desses 100 pacientes, ele calcula uma média e um desvio padrão. Mas atenção: estes não são os Parâmetros Populacionais. Eles são apenas Estimativas.</p>
<p><br></p>
<blockquote>
<p><strong>A Realidade Estatística</strong>: É extremamente improvável que a média de HbA1c encontrada nesse estudo seja exatamente igual à média real da população mundial (7,5%). Sempre haverá um erro aleatório.</p>
</blockquote>
<p><br></p>
<h4 id="b-teorema-do-limite-central-e-se-repetíssemos-a-amostragem">b) Teorema do Limite Central: E se repetíssemos a amostragem?</h4>
<p>O que aconteceria se, em vez de fazer apenas um estudo medindo a HbA1c de 100 pacientes, nós repetíssemos esse mesmo estudo 1.000 vezes? Teríamos 1.000 médias diferentes (7,2%, 7,1%, 7,5%, 7,3%…). Se colocarmos todas essas médias em um gráfico (histograma), observaremos um fenômeno fascinante:</p>
<ol type="1">
<li><p>A maioria das médias dos estudos vai se acumular em torno de um valor central.</p></li>
<li><p>Algumas poucas médias (os estudos “azarados” ou extremos) ficarão mais afastadas.</p></li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-3"></span>
<img src="tutorial-em-constru%C3%A7%C3%A3o_files/figure-html5/unnamed-chunk-3-1.png" alt="Aqui está representada uma distribuição verdadeira do nível de HbA1C em % de uma população. Foram feitos 10 estudos com 3 participantes que tentaram estimar a média da hemoglobina glicada da população. Perceba que esses estudos não conseguem estimar perfeitamente a média populacional. Existe uma diferença que é chamada de erro amostral." width="624" />
<p class="caption">
Figure 1: Aqui está representada uma distribuição verdadeira do nível de HbA1C em % de uma população. Foram feitos 10 estudos com 3 participantes que tentaram estimar a média da hemoglobina glicada da população. Perceba que esses estudos não conseguem estimar perfeitamente a média populacional. Existe uma diferença que é chamada de erro amostral.
</p>
</div>
</div>
<p>Essa coleção de médias de vários estudos hipotéticos cria o que chamamos de Distribuição Amostral. Aqui entra uma das regras mais importantes da estatística para a metanálise. Você pode se perguntar: “E se os dados originais dos pacientes não forem normais?” (Ex: tempo de internação hospitalar, que geralmente não segue uma curva normal).</p>
<p>O <strong>Teorema do Limite Central</strong> afirma que, independentemente da distribuição dos dados originais (seja uniforme, exponencial, etc.), se pegarmos as médias dessas amostragens, a distribuição dessas médias será sempre Normal (uma curva de sino).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-4"></span>
<img src="tutorial-em-constru%C3%A7%C3%A3o_files/figure-html5/unnamed-chunk-4-1.png" alt="Foram retiradas amostras pequenas (n = 5), médias (n = 30) e grandes (n = 100) de uma distribuição populacional exponencial e calculadas a média de cada amostra. Perceba que a distribuição amostral das médias (mesmo que a distribuição amostral original não seja normal) vai aproximando-se de uma distribuição normal. Perceba também que quanto maior a amostra menor o desvio padrão dessa distribuição amostral (vamos chamar depois isso de menor erro amostral :D)" width="624" />
<p class="caption">
Figure 2: Foram retiradas amostras pequenas (n = 5), médias (n = 30) e grandes (n = 100) de uma distribuição populacional exponencial e calculadas a média de cada amostra. Perceba que a distribuição amostral das médias (mesmo que a distribuição amostral original não seja normal) vai aproximando-se de uma distribuição normal. Perceba também que quanto maior a amostra menor o desvio padrão dessa distribuição amostral (vamos chamar depois isso de menor erro amostral :D)
</p>
</div>
</div>
<p><br></p>
<blockquote>
<p><strong>Por que isso importa na medicina?</strong> Não precisamos nos preocupar tanto se a variável biológica original (como carga viral ) tem uma distribuição estranha. Desde que tenhamos um número amostral suficiente (geralmente acima de 30), podemos assumir que as médias dos estudos que vamos combinar na metanálise se comportam como uma curva Normal.</p>
</blockquote>
<p><br></p>
<h4 id="c-erro-padrão-quão-precisa-é-a-média-das-amostragens">c) Erro Padrão: Quão precisa é a média das amostragens?</h4>
<p>Agora que sabemos que as médias de vários estudos formam uma curva, precisamos medir a “largura” dessa curva. É aqui que muita gente confunde Desvio Padrão com Erro Padrão. Vamos diferenciar:</p>
<ul>
<li><p><strong>Desvio Padrão (SD)</strong>: Mede o quanto UMA amostragem está espalhada. É a variação biológica entre paciente e paciente (ex: o quanto a glicemia varia entre os sujeitos do estudo).</p></li>
<li><p><strong>Erro Padrão (SE)</strong>: Mede o quanto a média de várias amostragens está espalhada. Ele é, basicamente, o desvio padrão das médias de vários estudos.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-5"></span>
<img src="tutorial-em-constru%C3%A7%C3%A3o_files/figure-html5/unnamed-chunk-5-1.png" alt="Simulação feita com 5.000 estudos com tamanho amostral pequeno (n = 30) com média verdadeira de HbA1c de 7% e desvio padrão de 1%. Perceba que esses 5.000 estudos tem uma distribuição amostral de média seguindo uma distribuição normal. O desvio padrão dessa distribuição amostral chama-se erro padrçao." width="624" />
<p class="caption">
Figure 3: Simulação feita com 5.000 estudos com tamanho amostral pequeno (n = 30) com média verdadeira de HbA1c de 7% e desvio padrão de 1%. Perceba que esses 5.000 estudos tem uma distribuição amostral de média seguindo uma distribuição normal. O desvio padrão dessa distribuição amostral chama-se erro padrçao.
</p>
</div>
</div>
<p><br></p>
<p><strong>Como interpretar?</strong>: O Erro Padrão é uma medição do quão representativas são nossas amostragens em relação à população.</p>
<ul>
<li><p><strong>Alto Erro Padrão</strong>: As médias dos estudos variam muito entre si. O estudo é pouco preciso.</p></li>
<li><p><strong>Baixo Erro Padrão</strong>: As médias variam pouco. O estudo é uma boa representação da população.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-6"></span>
<img src="tutorial-em-constru%C3%A7%C3%A3o_files/figure-html5/unnamed-chunk-6-1.png" alt="Foi feita uma simulação com desvio padrão fixo de 15 e valores crescentes de tamanho amostral (5, 10, 15...). Perceba que o erro padrão decresce aproximadamente exponencialmente com o tamanho amostral. " width="624" />
<p class="caption">
Figure 4: Foi feita uma simulação com desvio padrão fixo de 15 e valores crescentes de tamanho amostral (5, 10, 15…). Perceba que o erro padrão decresce aproximadamente exponencialmente com o tamanho amostral.
</p>
</div>
</div>
<p><em>Nota: O Erro Padrão será sempre menor que o Desvio Padrão, pois as médias são naturalmente menos dispersas do que as observações individuais.</em></p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-7"></span>
<img src="tutorial-em-constru%C3%A7%C3%A3o_files/figure-html5/unnamed-chunk-7-1.png" alt="Em cinza temos a distribuição populacional do nível de HbA1c (%), perceba que ela é mais espalhada. Ao fazer estudos para retirar a média desse valor, temos uma quantidade menos espalhada de médias. O desvio padrão dessa distribuição amostral é chamado de erro padrão." width="624" />
<p class="caption">
Figure 5: Em cinza temos a distribuição populacional do nível de HbA1c (%), perceba que ela é mais espalhada. Ao fazer estudos para retirar a média desse valor, temos uma quantidade menos espalhada de médias. O desvio padrão dessa distribuição amostral é chamado de erro padrão.
</p>
</div>
</div>
<p><br></p>
<h4 id="d-erro-padrão-e-se-eu-tiver-apenas-um-estudo">d) Erro Padrão: E se eu tiver apenas um estudo?</h4>
<p>Você deve estar pensando: “Mas eu só tenho UM estudo em mãos, eu não repeti a amostragem 1.000 vezes. Como eu descubro o Erro Padrão?”</p>
<p>A estatística nos dá um atalho. É possível estimar o erro padrão tendo apenas uma amostragem (o estudo que você está lendo). Existe uma “Fórmula Especial” para o Erro Padrão da Média:</p>
<p><span class="math display">\[SE = \frac{s}{\sqrt{n}}\]</span></p>
<p>Onde:</p>
<ul>
<li><p><span class="math inline">\(\sigma\)</span> = Desvio Padrão (do estudo).</p></li>
<li><p><span class="math inline">\(n\)</span> = Tamanho da amostra (número de pacientes).</p></li>
</ul>
<blockquote>
<p><strong>Interpretação para Metanálise</strong>: Olhe para a fórmula. O <span class="math inline">\(n\)</span> está no denominador. Isso prova matematicamente que quanto maior o número de pacientes (<span class="math inline">\(n\)</span>), menor será o erro padrão (<span class="math inline">\(SE\)</span>).Na metanálise, estudos com <span class="math inline">\(SE\)</span> menor (mais precisos) ganharão mais peso na decisão final.</p>
</blockquote>
<p><br></p>
<h2 id="dados-contínuos-variáveis-numéricas">2. Dados Contínuos (Variáveis Numéricas)</h2>
<h3 id="grupo-único-média-aritmétrica-simples">2.1. Grupo Único: Média Aritmétrica Simples</h3>
<p>A média aritmética é uma das medidas de tendência central possíveis de serem utilizadas em metanálises. Ela deve ser necessariamente utilizada quando todos os estudos utilizam a mesma métrica e não há um grupo controle. Por exemplo, para investigar a altura média de uma população.</p>
<p>Ela é calculada da seguinte forma:</p>
<p><span class="math display">\[ \bar{x} = \frac{\sum_{i=1}^{n} x_i}{n} \]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Definir semente para reprodutibilidade</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">100</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Gerar uma amostra aleatória (n=50) com média 20 e desvio padrão 5</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">50</span>, <span class="at">mean =</span> <span class="dv">20</span>, <span class="at">sd =</span> <span class="dv">5</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular a média</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>media_calculada <span class="ot">&lt;-</span> <span class="fu">mean</span>(sample)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Média:&quot;</span>, media_calculada))</span></code></pre></div>
<pre><code>[1] &quot;Média: 20.4075447226527&quot;</code></pre>
</div>
<p><br></p>
<p>Nós já falamos sobre como calcular o erro padrão da média. Mas aqui está relembrando para você!</p>
<p><span class="math display">\[ SE_{\bar{x}} = \frac{s}{\sqrt{n}} \]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular o Erro Padrão (SD dividido pela raiz quadrada de n)</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>erro_padrao <span class="ot">&lt;-</span> <span class="fu">sd</span>(sample) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="dv">50</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Erro Padrão:&quot;</span>, erro_padrao))</span></code></pre></div>
<pre><code>[1] &quot;Erro Padrão: 0.579128416999499&quot;</code></pre>
</div>
<p><br></p>
<p>Para conduzir uma metanálise de médias, seu banco de dados precisa obrigatoriamente conter três informações (colunas) de cada estudo incluído:</p>
<ul>
<li><span class="math inline">\(n\)</span>: O tamanho da amostra (número de observações).</li>
<li><span class="math inline">\(mean\)</span>: A média relatada no estudo.</li>
<li><span class="math inline">\(sd\)</span>: O desvio padrão da variável.</li>
</ul>
<p><br>
<br></p>
<table>
<thead>
<tr class="header">
<th>Estudos</th>
<th>n</th>
<th>mean</th>
<th>sd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Lee (2014)</td>
<td>25</td>
<td>55</td>
<td>1.2</td>
</tr>
<tr class="even">
<td>Silva (2016)</td>
<td>30</td>
<td>60</td>
<td>1.3</td>
</tr>
<tr class="odd">
<td>Ferreira (2020)</td>
<td>28</td>
<td>61</td>
<td>0.9</td>
</tr>
</tbody>
</table>
<p><br>
<br></p>
<h3 id="dois-grupos-com-mesma-escala-diferença-de-médias-brutas-não-padronizadas">2.2. Dois grupos com mesma escala: Diferença de Médias Brutas (Não Padronizadas)</h3>
<h4 id="a-o-que-é">a) O que é?</h4>
<p>A Diferença de Médias (MD) bruta é a forma mais simples e intuitiva de medir um efeito. Ela é simplesmente a subtração da média do grupo intervenção pela média do grupo controle.</p>
<span class="math display">\[ MD_{between} = \bar{x}_1 - \bar{x}_2 \]</span>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 1 (Intervenção): Média 130 mmHg, SD 15</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo 2 (Controle): Média 140 mmHg, SD 15</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>n1 <span class="ot">&lt;-</span> <span class="dv">20</span>; m1 <span class="ot">&lt;-</span> <span class="dv">130</span>; s1 <span class="ot">&lt;-</span> <span class="dv">15</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>n2 <span class="ot">&lt;-</span> <span class="dv">20</span>; m2 <span class="ot">&lt;-</span> <span class="dv">140</span>; s2 <span class="ot">&lt;-</span> <span class="dv">15</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>MD <span class="ot">&lt;-</span> m1 <span class="sc">-</span> m2</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Diferença Média (MD):&quot;</span>, MD, <span class="st">&quot;mmHg&quot;</span>))</span></code></pre></div>
<pre><code>[1] &quot;Diferença Média (MD): -10 mmHg&quot;</code></pre>
</div>
<p><strong>Quando usar?</strong> Só podemos usar a MD quando todos os estudos incluídos na metanálise mediram o desfecho exatamente na mesma escala/unidade. Exemplo Prático (Pressão Arterial): Imagine que você está estudando um novo anti-hipertensivo.</p>
<ul>
<li><p>Estudo A mediu a pressão arterial sistólica em mmHg.</p></li>
<li><p>Estudo B mediu a pressão arterial sistólica em mmHg.</p></li>
</ul>
<p>Como ambos falam a “mesma língua” (mmHg), podemos calcular que o remédio baixou a pressão em média -10 mmHg. Isso é uma diferença de média bruta.</p>
<h4 id="b-erro-padrão">b) Erro Padrão</h4>
<h5 id="entendendo-a-problemática">Entendendo a Problemática</h5>
<p>Nós temos duas formas de calcular o erro padrão, a depender se considerarmos que as duas medidas pertencentes a uma mesma população ou duas populações diferentes. No primeiro caso, consideramos que o desvio padrão verdadeiro de cada grupo é igual entre si. Ou seja, está é um pressuposto estatístico de homocedasticidade. No segundo caso os desvio padrões não tem o mesmo valor, então estamos falando de heterocedasticidade.</p>
<p>Em cenários de desbalanceamento amostral (<span class="math inline">\(n_1 \neq n_2\)</span>), a abordagem agrupada falha em capturar a verdadeira incerteza da estimativa. Isso gera um erro comum em metanálise, já que o estudo com menor número de pacientes geralmente possui a maior variância (grande variabilidade em amostra pequena). Isso faz com quê:</p>
<ul>
<li><p><strong>O Erro Matemático:</strong> O método agrupado (pooled) ignora a alta variância do grupo pequeno, “diluindo-a” com a variância menor do grupo grande.</p></li>
<li><p><strong>A Consequência:</strong> O Erro Padrão calculado é artificialmente pequeno.</p></li>
<li><p><strong>Impacto na Meta-Análise:</strong> O algoritmo de inverso da variância entende que este estudo é extremamente preciso (o que é falso) e atribui a ele um peso desproporcionalmente alto. Um estudo “ruidoso” e de baixa qualidade estatística passa a dominar a estimativa do efeito global.</p></li>
</ul>
<h5 id="assumindo-o-mesmo-desvio-padrão-homocedasticidade">Assumindo o mesmo desvio padrão (homocedasticidade)</h5>
<p>Calcula-se o desvio padrão agrupado (<span class="math inline">\(s_{pooled}\)</span>) através da fórmula</p>
<p><span class="math display">\[ s_{pooled} = \sqrt{\frac{(n_1 - 1)s^2_1 + (n_2 - 1)s^2_2}{n_1 + n_2 - 2}} \]</span>
<br></p>
<p>Então, utilizamos esse desvio padrão agrupado para calcular o erro padrão.
<span class="math display">\[ SE_{MD_{between}} = s_{pooled} \sqrt{\frac{1}{n_1} + \frac{1}{n_2}} \]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>s_pooled <span class="ot">&lt;-</span> <span class="fu">sqrt</span>( (((n1<span class="dv">-1</span>)<span class="sc">*</span>s1<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> ((n2<span class="dv">-1</span>)<span class="sc">*</span>s2<span class="sc">^</span><span class="dv">2</span>)) <span class="sc">/</span> (n1 <span class="sc">+</span> n2 <span class="sc">-</span> <span class="dv">2</span>) )</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>se_md <span class="ot">&lt;-</span> s_pooled <span class="sc">*</span> <span class="fu">sqrt</span>((<span class="dv">1</span><span class="sc">/</span>n1) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">/</span>n2))</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Erro Padrão (Agrupado):&quot;</span>, <span class="fu">round</span>(se_md, <span class="dv">3</span>)))</span></code></pre></div>
<pre><code>[1] &quot;Erro Padrão (Agrupado): 4.743&quot;</code></pre>
</div>
<h5 id="assumindo-desvios-padrões-diferentes-heterocedasticidade">Assumindo desvios padrões diferentes (heterocedasticidade)</h5>
<span class="math display">\[ SE_{unpooled} = \sqrt{ \frac{s_1^2}{n_1} + \frac{s_2^2}{n_2} } \]</span>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>se_unpooled <span class="ot">&lt;-</span> <span class="fu">sqrt</span>( (s1<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n1) <span class="sc">+</span> (s2<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n2) )</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Erro Padrão (Não Agrupado):&quot;</span>, <span class="fu">round</span>(se_unpooled, <span class="dv">4</span>)))</span></code></pre></div>
<pre><code>[1] &quot;Erro Padrão (Não Agrupado): 4.7434&quot;</code></pre>
</div>
<p><br></p>
<p>Para conduzir uma metanálise de diferenças de médias brutas, seu banco de dados precisa obrigatoriamente conter seis informações (colunas) de cada estudo incluído:</p>
<ul>
<li><span class="math inline">\(N_{tratamento}\)</span>: O tamanho da amostra do grupo tratamento.</li>
<li><span class="math inline">\(mean_{tratamento}\)</span>: A média do grupo tratamento.</li>
<li><span class="math inline">\(sd_{tratamento}\)</span>: O desvio padrão do grupo tratamento.</li>
<li><span class="math inline">\(N_{controle}\)</span>: O tamanho da amostra do grupo controle.</li>
<li><span class="math inline">\(mean_{controle}\)</span>: A média do grupo controle.</li>
<li><span class="math inline">\(sd_{controle}\)</span>: O desvio padrão do grupo controle.</li>
</ul>
<p><br></p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 8%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
</colgroup>
<thead>
<tr class="header">
<th>Estudos</th>
<th>n_tratamento</th>
<th>mean_tratamento</th>
<th>sd_tratamento</th>
<th>n_controle</th>
<th>mean_controle</th>
<th>sd_controle</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Lee (2014)</td>
<td>25</td>
<td>55</td>
<td>1.2</td>
<td>25</td>
<td>50</td>
<td>1.5</td>
</tr>
<tr class="even">
<td>Silva (2016)</td>
<td>30</td>
<td>60</td>
<td>1.3</td>
<td>25</td>
<td>48</td>
<td>1.4</td>
</tr>
<tr class="odd">
<td>Ferreira (2020)</td>
<td>28</td>
<td>61</td>
<td>0.9</td>
<td>25</td>
<td>40</td>
<td>1.2</td>
</tr>
</tbody>
</table>
<p><br>
<br></p>
<h3 id="dois-grupos-com-escalas-diferentes-diferença-de-médias-padronizadas">2.3. Dois grupos com escalas diferentes: Diferença de Médias Padronizadas</h3>
<h4 id="a-o-que-é-1">a) O que é?</h4>
<p>A diferença de médias padronizadas (SMD) expressa a diferença entre os grupos em unidades de desvios-padrão, e não na unidade original de medida. Quando usar? É essencial quando os estudos medem o mesmo desfecho (construto), mas usam escalas/instrumentos diferentes.</p>
<p>Exemplo Prático (Depressão): Você quer ver se Terapia Cognitiva Comportamental reduz depressão.Estudo A usou a Escala de Beck (BDI) (vai de 0 a 63).Estudo B usou a Escala de Hamilton (HAM-D) (vai de 0 a 50).Não podemos unir estudos que utilizam Beck com os que utilizam Hamilton sem fazer nenhum tratamento.</p>
<p>A solução é padronizar! Esse procedimento que falamos acima sobre calcular a diferença baseada em unidades de desvio padrão é, em outras palavras, calcular o Cohen’s d. Por exemplo, se o resultado for <span class="math inline">\(d = -0.5\)</span>, significa que o tratamento reduziu a depressão em “meio desvio padrão”, independente da escala usada.</p>
<p><br></p>
<p><strong>Interpretação Visual</strong> (Sobreposição) O Cohen’s d nos diz o quanto as curvas dos dois grupos se separaram:</p>
<ul>
<li><p><span class="math inline">\(d = 0.2\)</span> (Pequeno): Grande sobreposição entre os grupos (as curvas quase se tocam).</p></li>
<li><p><span class="math inline">\(d = 0.5\)</span> (Médio): Separação visível.</p></li>
<li><p><span class="math inline">\(d = 0.8\)</span> (Grande): Clara separação entre tratado e controle.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-11"></span>
<img src="tutorial-em-constru%C3%A7%C3%A3o_files/figure-html5/unnamed-chunk-11-1.png" alt="Representação visual do d de Cohen. Perceba que quanto maior o seu valor, maior a separação entre os grupos. E, assim, consequemente, menor será a área de intersecção entre as curvas. Por isso, que ele representa uma forma de quantificar a diferença entre grupos." width="960" />
<p class="caption">
Figure 6: Representação visual do d de Cohen. Perceba que quanto maior o seu valor, maior a separação entre os grupos. E, assim, consequemente, menor será a área de intersecção entre as curvas. Por isso, que ele representa uma forma de quantificar a diferença entre grupos.
</p>
</div>
</div>
<h4 id="b-erro-padrão-1">b) Erro Padrão</h4>
<h5 id="fórmula-mais-comum-homocedasticidade">Fórmula Mais Comum (Homocedasticidade)</h5>
<p>Essa fórmula para o cálculo do d de Cohen utiliza o desvio padrão agrupado. E, como falamos antes, ele assume que ambos os desvios padrões são iguais. Porém, essa fórmula acaba sendo mais utilizada.</p>
<p><span class="math display">\[ d = \frac{\bar{x}_1 - \bar{x}_2}{s_{pooled}} \]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalar pacote se necessário: install.packages(&quot;esc&quot;)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(esc)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>effect_size <span class="ot">&lt;-</span> <span class="fu">esc_mean_sd</span>(</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp1m =</span> <span class="dv">15</span>, <span class="at">grp1sd =</span> <span class="dv">5</span>, <span class="at">grp1n =</span> <span class="dv">50</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp2m =</span> <span class="dv">20</span>, <span class="at">grp2sd =</span> <span class="dv">5</span>, <span class="at">grp2n =</span> <span class="dv">50</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># O resultado mostra o &#39;es&#39; (Effect Size) d de Cohen</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(effect_size)</span></code></pre></div>
<pre><code>
Effect Size Calculation for Meta Analysis

     Conversion: mean and sd to effect size d
    Effect Size:  -1.0000
 Standard Error:   0.2121
       Variance:   0.0450
       Lower CI:  -1.4158
       Upper CI:  -0.5842
         Weight:  22.2222</code></pre>
</div>
<h5 id="fórmulas-para-heterocedasticidade">Fórmulas para Heterocedasticidade</h5>
<p>Existem duas formas de calcular o d de Cohen assumindo que os desvios não são os mesmos. Podemos fazer uma média entre os dois.</p>
<p><span class="math display">\[ d = \frac{\bar{x}_1 - \bar{x}_2}{\sqrt{\frac{s_1^2 + s_2^2}{2}}} \]</span>
Uma forma mais comum e segura de fazer isso é utilizando uma métrica chamada Delta de Glass. Invés de dividir pela média de dois desvios padrões, dividimos apenas pelo desvio do grupo controle.</p>
<p><span class="math display">\[ \Delta_{\text{Glass}} = \frac{\bar{x}_1 - \bar{x}_2}{SD_{\text{controle}}} \]</span></p>
<p>Embora seja comum assumir variâncias iguais (Homocedasticidade) e usar o desvio padrão agrupado (Pooled) para calcular o d de Cohen, isso pode ser um erro se o tratamento alterar a variabilidade dos dados.</p>
<h4 id="c-correção-para-tamanho-amostral-pequeno">c) Correção para Tamanho Amostral Pequeno</h4>
<p>Em estudos com amostras pequenas (especialmente quando o <span class="math inline">\(n\)</span> total <span class="math inline">\(\le 20\)</span>), o cálculo padrão do SMD tende a superestimar o verdadeiro tamanho do efeito na população. Isso ocorre porque o desvio padrão da amostra, usado no denominador do Cohen’s <span class="math inline">\(d\)</span>, tende a subestimar o desvio padrão real da população nesses casos.Como a metanálise frequentemente lida com estudos pequenos, usar o SMD bruto pode inflar artificialmente o resultado final da intervenção.</p>
<p>Para corrigir esse viés, aplicamos um fator de correção (<span class="math inline">\(J\)</span>) ao SMD bruto. O resultado é uma métrica ajustada chamada Hedges’ <span class="math inline">\(g\)</span>.</p>
<p><span class="math display">\[g = \text{Cohen&#39;s } d \times J\]</span></p>
<p>O fator de correção <span class="math inline">\(J\)</span> é sempre menor que 1, o que “puxa” o valor do efeito ligeiramente para baixo.</p>
<ul>
<li><p>Quanto menor a amostra, maior é a correção (o <span class="math inline">\(g\)</span> fica perceptivelmente menor que o <span class="math inline">\(d\)</span>).</p></li>
<li><p>Quanto maior a amostra, o fator de correção se aproxima de 1 e a diferença entre <span class="math inline">\(g\)</span> e <span class="math inline">\(d\)</span> torna-se irrelevante.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-13"></span>
<img src="tutorial-em-constru%C3%A7%C3%A3o_files/figure-html5/unnamed-chunk-13-1.png" alt="Convergência do g de Hedges para o d de Cohen a medida que o tamanho amostral aumenta. Ou seja, a diminuição do tamanho do efeito ocorre apenas em tamanhos amostrais pequenos." width="768" />
<p class="caption">
Figure 7: Convergência do g de Hedges para o d de Cohen a medida que o tamanho amostral aumenta. Ou seja, a diminuição do tamanho do efeito ocorre apenas em tamanhos amostrais pequenos.
</p>
</div>
</div>
<p>A fórmula de aproximação mais comum para esse fator depende do tamanho total da amostra (<span class="math inline">\(N\)</span>):</p>
<span class="math display">\[J \approx 1 - \frac{3}{4N - 9}\]</span>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 1. Suponha um estudo pequeno</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>smd_bruto <span class="ot">&lt;-</span> <span class="fl">0.5</span>   <span class="co"># Cohen&#39;s d</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>n_total   <span class="ot">&lt;-</span> <span class="dv">10</span>    <span class="co"># Amostra extremamente pequena (5 em cada grupo)</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 2. Cálculo Manual do Hedges&#39; g ---</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Fator de correção J</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>correction_factor <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> (<span class="dv">3</span> <span class="sc">/</span> (<span class="dv">4</span> <span class="sc">*</span> n_total <span class="sc">-</span> <span class="dv">9</span>))</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Hedges&#39; g</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>hedges_g_manual <span class="ot">&lt;-</span> smd_bruto <span class="sc">*</span> correction_factor</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;SMD Bruto (Cohen&#39;s d): %.4f</span><span class="sc">\n</span><span class="st">&quot;</span>, smd_bruto))</span></code></pre></div>
<pre><code>SMD Bruto (Cohen&#39;s d): 0.5000</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># O valor de g é menor, corrigindo a superestimação!!</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Hedges&#39; g (N=%d):      %.4f</span><span class="sc">\n</span><span class="st">&quot;</span>, n_total, hedges_g_manual))</span></code></pre></div>
<pre><code>Hedges&#39; g (N=10):      0.4516</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 3. Cálculo usando pacote &#39;esc&#39; (Recomendado) ---</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(esc)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hedges_g</span>(<span class="at">d =</span> smd_bruto, <span class="at">totaln =</span> n_total)</span></code></pre></div>
<pre><code>[1] 0.4516129</code></pre>
</div>
<p>Um ponto de confusão comum na literatura científica é a nomenclatura. Muitos autores usam o termo “SMD” ou até mesmo “Cohen’s <span class="math inline">\(d\)</span>” de forma genérica, mesmo quando aplicaram a correção de Hedges. Ao extrair dados para sua metanálise, é crucial verificar na metodologia do artigo se o valor reportado foi corrigido para viés de pequena amostra.</p>
<p>Para conduzir uma metanálise de diferenças de médias brutas, seu banco de dados precisa obrigatoriamente conter seis informações (colunas) de cada estudo incluído:</p>
<ul>
<li><span class="math inline">\(N_{tratamento}\)</span>: O tamanho da amostra do grupo tratamento.</li>
<li><span class="math inline">\(mean_{tratamento}\)</span>: A média do grupo tratamento.</li>
<li><span class="math inline">\(sd_{tratamento}\)</span>: O desvio padrão do grupo tratamento.</li>
<li><span class="math inline">\(N_{controle}\)</span>: O tamanho da amostra do grupo controle.</li>
<li><span class="math inline">\(mean_{controle}\)</span>: A média do grupo controle.</li>
<li><span class="math inline">\(sd_{controle}\)</span>: O desvio padrão do grupo controle.</li>
</ul>
<p><br></p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 8%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
</colgroup>
<thead>
<tr class="header">
<th>Estudos</th>
<th>n_tratamento</th>
<th>mean_tratamento</th>
<th>sd_tratamento</th>
<th>n_controle</th>
<th>mean_controle</th>
<th>sd_controle</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Lee (2014)</td>
<td>25</td>
<td>55</td>
<td>1.2</td>
<td>25</td>
<td>50</td>
<td>1.5</td>
</tr>
<tr class="even">
<td>Silva (2016)</td>
<td>30</td>
<td>60</td>
<td>1.3</td>
<td>25</td>
<td>48</td>
<td>1.4</td>
</tr>
<tr class="odd">
<td>Ferreira (2020)</td>
<td>28</td>
<td>61</td>
<td>0.9</td>
<td>25</td>
<td>40</td>
<td>1.2</td>
</tr>
</tbody>
</table>
<p><br>
<br></p>
<h3 id="um-grupo-e-duas-métricas-correlação">2.4. Um grupo e duas métricas: Correlação</h3>
<h4 id="a-o-que-é-2">a) O que é?</h4>
<p>A correlação é uma medida de tamanho de efeito que expressa a força da relação (“co-variação”) entre duas variáveis contínuas.Exemplo Prático: Imagine que queremos investigar a relação entre Idade (anos) e Pressão Arterial Sistólica (mmHg). Se a correlação for positiva e forte, significa que conforme a idade aumenta, a pressão também tende a subir.</p>
<p>A forma mais comum é a Correlação de Pearson (<span class="math inline">\(r\)</span>). Uma de suas maiores vantagens é que ela padroniza os dados. Isso significa que não importa a unidade de medida usada no estudo original.Estudo Exemplo, o estudo A mediu altura em centímetros. Estudo B mediu altura em polegadas.Uma correlação de <span class="math inline">\(r=0.50\)</span> no Estudo A é matematicamente idêntica a <span class="math inline">\(r=0.50\)</span> no Estudo B, permitindo que comparemos os efeitos diretamente.</p>
<p>A correlação de Pearson é calculada da seguinte forma:</p>
<p><span class="math display">\[ r_{xy} = \frac{\sigma^2_{xy}}{\sigma_x \sigma_y} \]</span></p>
<p><br></p>
<p>E esse resultado pode ser obtido através da função <code>cor</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">16</span>, <span class="dv">18</span>, <span class="dv">21</span>, <span class="dv">35</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the correlation between x and y</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fu">cor</span>(x,y)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>r</span></code></pre></div>
<pre><code>[1] 0.9481413</code></pre>
</div>
<p><br></p>
<p>O erro padrão associado é calculado através da fórmula:</p>
<p><span class="math display">\[ SE_{r_{xy}} = \frac{1 - r^2_{xy}}{\sqrt{n - 2}} \]</span></p>
<h4 id="b-interpretando-magnitude">b) Interpretando magnitude</h4>
<p>Cohen propôs regras de bolso para classificar a força dessa relação, mas lembre-se que o contexto clínico importa muito.</p>
<ul>
<li><p><strong><span class="math inline">\(r \approx 0.10\)</span></strong> (Efeito Pequeno): A relação existe, mas é sutil e influenciada por muitos outros fatores.</p></li>
<li><p><strong><span class="math inline">\(r \approx 0.30\)</span></strong> (Efeito Moderado): A relação é visível a olho nu nos dados.</p></li>
<li><p><strong><span class="math inline">\(r \approx 0.50\)</span></strong> (Efeito Grande): Uma variável prediz a outra fortemente.</p></li>
</ul>
<h4 id="c-o-problema-estatístico-e-a-solução-fishers-z">c) O Problema Estatístico e a Solução (Fisher’s z)</h4>
<p>Assim como acontece com proporções, correlações são “presas” dentro de um intervalo (de -1 a +1).Se um estudo encontra uma correlação muito alta (ex: <span class="math inline">\(r = 0.95\)</span> entre dois testes diagnósticos), a distribuição amostral fica espremida no teto do 1.0, gerando erros padrões incorretos e enviesados.Para corrigir isso na metanálise, usamos a Transformação Fisher’s z. Ela “estica” o intervalo de -1 a 1 para infinito, tornando a distribuição Normal e permitindo cálculos precisos de erro padrão.</p>
<p>Aqui está a transformação feita para moldar a distribuição amostral em formato de distribuição normal:</p>
<p><span class="math display">\[ z = 0.5 \log_e \left( \frac{1 + r}{1 - r} \right) \]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate Fisher&#39;s z</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fl">0.5</span><span class="sc">*</span><span class="fu">log</span>((<span class="dv">1</span><span class="sc">+</span>r)<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>r))</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>z</span></code></pre></div>
<pre><code>[1] 1.813054</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-17"></span>
<img src="tutorial-em-constru%C3%A7%C3%A3o_files/figure-html5/unnamed-chunk-17-1.png" alt="Por que não podemos usar correlações brutas na metanálise? Aqui fizemos a simulação de 5.000 estudos pequenos (n=30) onde a correlação populacional é alta (0.85). Na distribuição amostral da correlação de Pearson vemos que ela fica assimétrica, espremida à direita. Quando fazemos a transformação de Fischer a distribuição torna-se aproximadamente normal e simétrica, com intervalos indo de menos a mais infinito." width="960" />
<p class="caption">
Figure 8: Por que não podemos usar correlações brutas na metanálise? Aqui fizemos a simulação de 5.000 estudos pequenos (n=30) onde a correlação populacional é alta (0.85). Na distribuição amostral da correlação de Pearson vemos que ela fica assimétrica, espremida à direita. Quando fazemos a transformação de Fischer a distribuição torna-se aproximadamente normal e simétrica, com intervalos indo de menos a mais infinito.
</p>
</div>
</div>
<p>Sabendo o tamanho amostral podemos calcular o erro padrão do Z de Fischer através dessa fórmula:</p>
<p><span class="math display">\[ SE_z = \frac{1}{\sqrt{n - 3}} \]</span></p>
<p><br></p>
<p>Para conduzir uma metanálise de correlação, seu banco de dados precisa obrigatoriamente conter duas informações (colunas) de cada estudo incluído:</p>
<ul>
<li><span class="math inline">\(N\)</span>: O tamanho da amostra do grupo.</li>
<li><span class="math inline">\(cor\)</span>: A correlação entre as medidas.</li>
</ul>
<p><br></p>
<table>
<thead>
<tr class="header">
<th>Estudos</th>
<th>n</th>
<th>cor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Lee (2014)</td>
<td>25</td>
<td>0.88</td>
</tr>
<tr class="even">
<td>Silva (2016)</td>
<td>30</td>
<td>0.80</td>
</tr>
<tr class="odd">
<td>Ferreira (2020)</td>
<td>28</td>
<td>0.71</td>
</tr>
</tbody>
</table>
<p><br>
<br></p>
<h2 id="dados-binários-simnão-sucessofracasso">3. Dados Binários (Sim/Não, Sucesso/Fracasso)</h2>
<h3 id="grupo-único-proporções">3.1. Grupo Único: Proporções</h3>
<h4 id="a-o-que-é-3">a) O que é?</h4>
<p>A proporção é uma medida de tendência central que especifica quantas unidades de uma amostra pertencem a um subgrupo específico (ex: prevalência de uma doença). Novamente, trata-se de uma medida em que não há comparação de grupos. Ela varia entre 0 e 1 e é calculada dividindo o número de eventos (<span class="math inline">\(k\)</span>) pelo tamanho total da amostra (<span class="math inline">\(n\)</span>).</p>
<p>A proporção é calculada como:</p>
<p><span class="math display">\[ p = \frac{k}{n} \]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Definir valores: k (eventos) e n (total)</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">200</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Cálculo da Proporção Bruta </span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> k <span class="sc">/</span> n</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Proporção (p):&quot;</span>, p))</span></code></pre></div>
<pre><code>[1] &quot;Proporção (p): 0.25&quot;</code></pre>
</div>
<p><br></p>
<p>O erro padrão da proporção é calculado como:</p>
<span class="math display">\[ SE_p = \sqrt{\frac{p(1-p)}{n}} \]</span>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Erro Padrão da Proporção</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>se_p <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((p <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> p)) <span class="sc">/</span> n)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Erro Padrão (Raw):&quot;</span>, se_p))</span></code></pre></div>
<pre><code>[1] &quot;Erro Padrão (Raw): 0.0306186217847897&quot;</code></pre>
</div>
<h4 id="b-o-problema-dos-extremos">b) O problema dos extremos</h4>
<p>Como a proporção é limitada entre 0 e 1, surgem problemas quando o valor de <span class="math inline">\(p\)</span> é muito próximo de 0 ou de 1.</p>
<ul>
<li><strong>Erro Padrão Comprimido</strong>: O erro padrão é artificialmente reduzido, levando a uma superestimação da precisão.</li>
<li><strong>Distribuição Assimétrica</strong>: A distribuição amostral deixa de ser normal (Sino) e torna-se enviesada (<em>skewed</em>) à esquerda ou direita, pois é impossível ter valores fora do intervalo 0-1.</li>
</ul>
<p><br></p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-18"></span>
<img src="tutorial-em-constru%C3%A7%C3%A3o_files/figure-html5/unnamed-chunk-18-1.png" alt="A. Simulação de distribuição amostral de 10.000 estudos de grande tamanho (n = 300) em que a proporção populacional (verdadeira) é alta (0.95). Isso faz com que a distribuição de proporção bruta seja espremida e assimétrica para a direita. B. O erro padrão associado a essa distribuição é máximo  no centro e menor nas pontas, o que não é intuitivo pois nas pontas temos menor certeza." width="960" />
<p class="caption">
Figure 9: A. Simulação de distribuição amostral de 10.000 estudos de grande tamanho (n = 300) em que a proporção populacional (verdadeira) é alta (0.95). Isso faz com que a distribuição de proporção bruta seja espremida e assimétrica para a direita. B. O erro padrão associado a essa distribuição é máximo no centro e menor nas pontas, o que não é intuitivo pois nas pontas temos menor certeza.
</p>
</div>
</div>
<h4 id="c-a-solução">c) A solução 😁</h4>
<p>Para corrigir isso em metanálises, utilizamos a transformação em log natural - chamada de <strong>logit</strong>. Ela remove a restrição de intervalo 0-1, garantindo que a distribuição amostral seja aproximadamente normal e os erros padrão não sejam enviesados.</p>
<p>A transformação da proporção para logit da proporção:</p>
<p><span class="math display">\[ p_{\text{logit}} = \log_e \left( \frac{p}{1-p} \right) \]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># O logit transforma o intervalo 0-1 em -inf a +inf</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>p_logit <span class="ot">&lt;-</span> <span class="fu">log</span>(p <span class="sc">/</span> (<span class="dv">1</span> <span class="sc">-</span> p))</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Proporção Transformada (Logit):&quot;</span>, p_logit))</span></code></pre></div>
<pre><code>[1] &quot;Proporção Transformada (Logit): -1.09861228866811&quot;</code></pre>
</div>
<p><br></p>
<p>O erro padrão do logit da proporção:</p>
<p><span class="math display">\[ SE_{p_{\text{logit}}} = \sqrt{\frac{1}{np} + \frac{1}{n(1-p)}} \]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>se_logit <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((<span class="dv">1</span> <span class="sc">/</span> (n <span class="sc">*</span> p)) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">/</span> (n <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> p))))</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Erro Padrão (Logit):&quot;</span>, se_logit))</span></code></pre></div>
<pre><code>[1] &quot;Erro Padrão (Logit): 0.163299316185545&quot;</code></pre>
</div>
<p><br></p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-20"></span>
<img src="tutorial-em-constru%C3%A7%C3%A3o_files/figure-html5/unnamed-chunk-20-1.png" alt="A. Simulação de distribuição amostral de 10.000 estudos de grande tamanho (n = 300) em que a proporção populacional (verdadeira) é alta (0.95) após a transformação logit. Isso faz com que a distribuição assuma um formato aproximadamente normal em que os limites transformam-se em menos e mais infinito. B. O erro padrão associado a essa distribuição é máximo nas pontas e menor no centro, o queé intuitivo pois no centro temos maior certeza." width="960" />
<p class="caption">
Figure 10: A. Simulação de distribuição amostral de 10.000 estudos de grande tamanho (n = 300) em que a proporção populacional (verdadeira) é alta (0.95) após a transformação logit. Isso faz com que a distribuição assuma um formato aproximadamente normal em que os limites transformam-se em menos e mais infinito. B. O erro padrão associado a essa distribuição é máximo nas pontas e menor no centro, o queé intuitivo pois no centro temos maior certeza.
</p>
</div>
</div>
<p><br></p>
<p>Para conduzir uma metanálise de médias, seu banco de dados precisa obrigatoriamente conter duas informações (colunas) de cada estudo incluído:</p>
<ul>
<li><span class="math inline">\(event\)</span>: O número de observações no subgrupo específico (<span class="math inline">\(k\)</span>).</li>
<li><span class="math inline">\(n\)</span>: O tamanho total da amostra.</li>
</ul>
<p><br></p>
<table>
<thead>
<tr class="header">
<th>Estudos</th>
<th>event</th>
<th>n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Lee (2014)</td>
<td>25</td>
<td>55</td>
</tr>
<tr class="even">
<td>Silva (2016)</td>
<td>30</td>
<td>60</td>
</tr>
<tr class="odd">
<td>Ferreira (2020)</td>
<td>28</td>
<td>61</td>
</tr>
</tbody>
</table>
<p><br>
<br></p>
<h3 id="razão-de-dois-grupos-razão-de-riscos-risk-ratio">3.2. Razão de dois Grupos: Razão de Riscos (Risk Ratio)</h3>
<h4 id="a-o-que-é-4">a) O que é?</h4>
<p>A Razão de Risco (também conhecida como Risco Relativo ou Risk Ratio - RR) é uma medida de efeito intuitiva e amplamente utilizada em pesquisas médicas, especialmente em ensaios clínicos controlados com desfechos binários (ou dicotômicos), como “morte vs. sobrevida” ou “doença vs. sem doença”.</p>
<p>O RR compara a probabilidade de um evento ocorrer no grupo tratado versus no grupo controle. Os dados brutos são geralmente extraídos de uma tabela <span class="math inline">\(2 \times 2\)</span>:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: center;">Evento (<span class="math inline">\(E\)</span>)</th>
<th style="text-align: center;">Não Evento (<span class="math inline">\(\neg E\)</span>)</th>
<th style="text-align: center;">Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Tratamento</strong></td>
<td style="text-align: center;"><span class="math inline">\(a\)</span></td>
<td style="text-align: center;"><span class="math inline">\(b\)</span></td>
<td style="text-align: center;"><span class="math inline">\(n_{trat}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Controle</strong></td>
<td style="text-align: center;"><span class="math inline">\(c\)</span></td>
<td style="text-align: center;"><span class="math inline">\(d\)</span></td>
<td style="text-align: center;"><span class="math inline">\(n_{cont}\)</span></td>
</tr>
</tbody>
</table>
<p>O risco em cada grupo é calculado dividindo o número de eventos pelo total de pacientes naquele grupo. Assim, a Razão de Risco é definida como:</p>
<p><span class="math display">\[ RR = \frac{p_{trat}}{p_{cont}} = \frac{a / n_{trat}}{c / n_{cont}} \]</span></p>
<ul>
<li>Se <span class="math inline">\(RR = 1\)</span>: Não há diferença entre os grupos (hipótese nula).</li>
<li>Se <span class="math inline">\(RR &lt; 1\)</span>: O tratamento reduz o risco do evento (fator de proteção).</li>
<li>Se <span class="math inline">\(RR &gt; 1\)</span>: O tratamento aumenta o risco do evento (fator de risco).</li>
</ul>
<h4 id="b-novamente-o-problema-da-assimetria">b) Novamente… O problema da assimetria 😁</h4>
<p>Embora o RR seja intuitivo para interpretação clínica, ele possui propriedades estatísticas que dificultam a metanálise direta. Efeitos de mesma magnitude não são equidistantes em torno do valor nulo (1).</p>
<p>Um efeito benéfico que reduz o risco pela metade resulta em um RR de 0,5. O efeito oposto (dobrar o risco) resulta em um RR de 2,0 (e não 1,5).</p>
<p>Isso significa que a distribuição das Razões de Risco não segue uma curva normal. Para corrigir isso e garantir a normalidade assintótica necessária para os cálculos de ponderação na metanálise, realizamos uma transformação logarítmica natural:</p>
<p><span class="math display">\[ \text{Log}RR = \ln(RR) \]</span></p>
<p>Nesta escala logarítmica, os valores são centralizados em 0 (nenhum efeito) e tornam-se simétricos (ex: <span class="math inline">\(\ln(0,5) \approx -0,69\)</span> e <span class="math inline">\(\ln(2) \approx +0,69\)</span>).</p>
<h4 id="c-erro-padrão">c) Erro Padrão</h4>
<p><span class="math display">\[ SE_{LogRR} = \sqrt{\frac{1}{a} - \frac{1}{n_{trat}} + \frac{1}{c} - \frac{1}{n_{cont}}} \]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 1. Dados do Estudo (Tabela 2x2) ---</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>events_treat <span class="ot">&lt;-</span> <span class="dv">46</span>    <span class="co"># (a) Eventos no grupo tratamento</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>n_treat      <span class="ot">&lt;-</span> <span class="dv">248</span>   <span class="co"># (n1) Total grupo tratamento</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>events_ctrl  <span class="ot">&lt;-</span> <span class="dv">77</span>    <span class="co"># (c) Eventos no grupo controle</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>n_ctrl       <span class="ot">&lt;-</span> <span class="dv">251</span>   <span class="co"># (n2) Total grupo controle</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 2. Cálculo dos Riscos Individuais ---</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>risk_treat <span class="ot">&lt;-</span> events_treat <span class="sc">/</span> n_treat</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>risk_ctrl  <span class="ot">&lt;-</span> events_ctrl <span class="sc">/</span> n_ctrl</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 3. Cálculo da Razão de Risco (RR) ---</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>RR <span class="ot">&lt;-</span> risk_treat <span class="sc">/</span> risk_ctrl</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 4. Transformação Logarítmica (Para a Metanálise) ---</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>log_RR <span class="ot">&lt;-</span> <span class="fu">log</span>(RR)</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 5. Cálculo do Erro Padrão (SE) na escala Log ---</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Fórmula: SE = sqrt(1/a + 1/c - 1/n1 - 1/n2)</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>se_log_rr <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((<span class="dv">1</span><span class="sc">/</span>events_treat) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">/</span>events_ctrl) <span class="sc">-</span> (<span class="dv">1</span><span class="sc">/</span>n_treat) <span class="sc">-</span> (<span class="dv">1</span><span class="sc">/</span>n_ctrl))</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Exibindo Resultados ---</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Razão de Risco (RR): %.4f</span><span class="sc">\n</span><span class="st">&quot;</span>, RR))</span></code></pre></div>
<pre><code>[1] &quot;Razão de Risco (RR): 0.6046\n&quot;</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Log Razão de Risco:  %.4f</span><span class="sc">\n</span><span class="st">&quot;</span>, log_RR))</span></code></pre></div>
<pre><code>[1] &quot;Log Razão de Risco:  -0.5031\n&quot;</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Erro Padrão (Log):   %.4f</span><span class="sc">\n</span><span class="st">&quot;</span>, se_log_rr))</span></code></pre></div>
<pre><code>[1] &quot;Erro Padrão (Log):   0.1634\n&quot;</code></pre>
</div>
<h3 id="outra-razão-de-dois-grupos-razão-de-chances-odds-ratio">3.3. Outra razão de dois grupos: Razão de Chances (Odds Ratio)</h3>
<h4 id="a-o-que-é-chance">a) O que é chance?</h4>
<p>Enquanto o Risk Ratio compara probabilidades (riscos), o Odds Ratio (OR), ou Razão de Chances, compara… chances (Odds). Embora pareçam sinônimos na linguagem coloquial, em estatística, “Risco” e “Chance” são matematicamente distintos.</p>
<p>A intuição por trás do Odd é a razão entre o sucesso e o fracasso (ou evento e não-evento).Imagine que estamos analisando um jogo ou um tratamento.🔵 = Vitória (Evento/Sucesso)🔴 = Derrota (Não-Evento/Falha)</p>
<ul>
<li><strong>Probabilidade (Risco)</strong>: É o número de vitórias dividido pelo total de partidas.Vamos supor que tivemos 3 vitórias e 2 derrotas (🔵🔵🔵🔴🔴)</li>
</ul>
<p><span class="math display">\[P(\text{Vencer}) = \frac{3 \text{ (azuis)}}{5 \text{ (total)}} = 0,6 \text{ ou } 60\%\]</span></p>
<ul>
<li><strong>Chance (Odd)</strong>: É o número de vitórias dividido pelo número de derrotas. O denominador não inclui o total, apenas o complemento.🔵🔵🔵 🆚 🔴🔴</li>
</ul>
<p><span class="math display">\[\text{Odd} = \frac{3 \text{ (azuis)}}{2 \text{ (vermelhos)}} = 1,5\]</span></p>
<p>Dizemos que a chance é de “3 para 2” (3:2).</p>
<p>Mais formalmente podemos pensar em Razão de Chances a partir da tabela <span class="math inline">\(2 \times 2\)</span>:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: center;">Evento (<span class="math inline">\(E\)</span>)</th>
<th style="text-align: center;">Não Evento (<span class="math inline">\(\neg E\)</span>)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Tratamento</strong></td>
<td style="text-align: center;"><span class="math inline">\(a\)</span></td>
<td style="text-align: center;"><span class="math inline">\(b\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Controle</strong></td>
<td style="text-align: center;"><span class="math inline">\(c\)</span></td>
<td style="text-align: center;"><span class="math inline">\(d\)</span></td>
</tr>
</tbody>
</table>
<p>Analisando a tabela vemos que temos duas razões de chances. A do evento ocorrer no grupo tratado e de ocorrer no grupo controle:</p>
<p><span class="math display">\[ \text{Odd}_{trat} = \frac{a}{b} \quad \text{e} \quad \text{Odd}_{cont} = \frac{c}{d} \]</span></p>
<h4 id="b-e-novamente-a-assimetria">b) E novamente… A assimetria!</h4>
<p>Assim como no Risco Relativo, os Odds sofrem com problemas de assimetria.</p>
<ul>
<li><p>Chance de 1 para 4 (🔵🔴🔴🔴🔴): <span class="math inline">\(1/4 = 0,25\)</span></p></li>
<li><p>Chance de 4 para 1 (🔵🔵🔵🔵🔴): <span class="math inline">\(4/1 = 4,00\)</span></p></li>
</ul>
<p>Note que o inverso de 0,25 é 4. Em uma escala linear, 0,25 está muito perto de 1 (o valor nulo), enquanto 4 está muito longe. Para resolver isso e realizar a metanálise, usamos a transformação logarítmica. O logaritmo do Odd é chamado de Logit.</p>
<p><span class="math display">\[\text{Logit} = \ln(\text{Odd}) = \ln\left(\frac{p}{1-p}\right)\]</span></p>
<p>Ao aplicar o Log, tornamos a distribuição simétrica ao redor de zero:</p>
<ul>
<li><p><span class="math inline">\(\ln(0,25) \approx -1,38\)</span></p></li>
<li><p><span class="math inline">\(\ln(4,00) \approx +1,38\)</span></p></li>
</ul>
<h4 id="c-e-se-divirmos-duas-chances-temos-as-razões-de-chances">c) E se divirmos duas chances? Temos as razões de chances!</h4>
<p>O Odds Ratio (OR) é simplesmente a chance do evento no grupo tratado dividida pela chance do evento no grupo controle.</p>
<p><span class="math display">\[ OR = \frac{\text{Odd}_{trat}}{\text{Odd}_{cont}} = \frac{a/b}{c/d} = \frac{a \times d}{b \times c} \]</span></p>
<ul>
<li><strong>Interpretação</strong>: O OR indica a força de associação entre duas variáveis. Por exemplo, se um estudo sobre uma mutação genética e câncer resulta em um <span class="math inline">\(OR = 6,88\)</span>, isso significa que a chance de alguém com a mutação ter câncer é 6,88 vezes maior do que alguém sem a mutação.</li>
</ul>
<h4 id="d-erro-padrão">d) Erro Padrão</h4>
<p>E também podemos calcular o erro padrão do odds ratio atravé da fórmula:</p>
<p><span class="math display">\[ SE_{\text{Log}OR} = \sqrt{\frac{1}{a} + \frac{1}{b} + \frac{1}{c} + \frac{1}{d}} \]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 1. Dados do Estudo (Tabela 2x2) ---</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Exemplo: Gene Mutado vs Câncer</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>events_treat <span class="ot">&lt;-</span> <span class="dv">23</span>    <span class="co"># (a) Com Mutação e Com Câncer</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>no_events_treat <span class="ot">&lt;-</span> <span class="dv">117</span> <span class="co"># (b) Com Mutação e SEM Câncer</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>events_ctrl  <span class="ot">&lt;-</span> <span class="dv">6</span>     <span class="co"># (c) Sem Mutação e Com Câncer</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>no_events_ctrl <span class="ot">&lt;-</span> <span class="dv">210</span>  <span class="co"># (d) Sem Mutação e SEM Câncer</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 2. Cálculo dos Odds Individuais ---</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>odd_treat <span class="ot">&lt;-</span> events_treat <span class="sc">/</span> no_events_treat</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>odd_ctrl  <span class="ot">&lt;-</span> events_ctrl <span class="sc">/</span> no_events_ctrl</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 3. Cálculo do Odds Ratio (OR) ---</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>OR <span class="ot">&lt;-</span> odd_treat <span class="sc">/</span> odd_ctrl</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 4. Cálculo do Erro Padrão (Log Scale) ---</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>log_OR <span class="ot">&lt;-</span> <span class="fu">log</span>(OR)</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>se_log_or <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((<span class="dv">1</span><span class="sc">/</span>events_treat) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">/</span>no_events_treat) <span class="sc">+</span> </span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>                  (<span class="dv">1</span><span class="sc">/</span>events_ctrl) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">/</span>no_events_ctrl))</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Exibindo Resultados ---</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Odd Tratamento: %.4f</span><span class="sc">\n</span><span class="st">&quot;</span>, odd_treat))</span></code></pre></div>
<pre><code>Odd Tratamento: 0.1966</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Odd Controle:   %.4f</span><span class="sc">\n</span><span class="st">&quot;</span>, odd_ctrl))</span></code></pre></div>
<pre><code>Odd Controle:   0.0286</code></pre>
</div>
<p>Ou utilizando um pacote específico</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(esc)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">esc_2x2</span>(<span class="at">grp1yes =</span> events_treat, <span class="at">grp1no =</span> no_events_treat,</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">grp2yes =</span> events_ctrl, <span class="at">grp2no =</span> no_events_ctrl,</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">es.type =</span> <span class="st">&quot;or&quot;</span>)</span></code></pre></div>
<pre><code>
Effect Size Calculation for Meta Analysis

     Conversion: 2x2 table (OR) coefficient to effect size odds ratio
    Effect Size:   6.8803
 Standard Error:   0.4727
       Variance:   0.2235
       Lower CI:   2.7242
       Upper CI:  17.3772
         Weight:   4.4752</code></pre>
</div>
<h4 id="e-diferença-de-odds-ratio-para-risk-ratio">e) Diferença de Odds Ratio para Risk Ratio</h4>
<ul>
<li><p><strong>Risk Ratio (RR)</strong>: É a razão entre duas probabilidades. É intuitivo. Se <span class="math inline">\(RR = 0,5\)</span>, o risco caiu pela metade.</p></li>
<li><p><strong>Odds Ratio (OR)</strong>: É a razão entre duas chances. É menos intuitivo, mas matematicamente mais robusto (permite regressão logística, simetria logarítmica, etc).</p></li>
</ul>
<p><strong>Quando eles divergem?</strong> Quando o evento é raro (ex: &lt; 10%), o <span class="math inline">\(OR \approx RR\)</span>. Porém, quando o evento é comum, o OR tende a exagerar o efeito percebido. Observe este exemplo prático de um estudo:</p>
<ul>
<li><p>Tratados: 5 mortes em 100 pacientes.</p></li>
<li><p>Controle: 10 mortes em 100 pacientes.</p></li>
</ul>
<p>O Risco Relativo é 0,5 (redução de 50%).O Odds Ratio é 0,47.Note que, mesmo com números pequenos, eles já não são idênticos. Em eventos frequentes, essa distância aumenta drasticamente. Porém, fique tranquilo que existem fórmulas para converter OR em RR se necessário!</p>
<h3 id="diferença-absoluta-de-dois-grupos-diferença-de-riscos-risk-difference">3.4. Diferença Absoluta de Dois Grupos: Diferença de Riscos (Risk Difference)</h3>
<p>Além das razões (divisões), existe uma terceira medida fundamental: a Diferença de Risco (RD), também chamada de Redução <strong>Absoluta</strong> do Risco. Ao contrário do RR e OR que são medidas relativas, a RD é uma medida absoluta.</p>
<p>Ela é calculada simplesmente subtraindo o risco do grupo controle pelo risco do grupo intervenção.</p>
<p><span class="math display">\[RD = Risk_{trat} - Risk_{cont}\]</span></p>
<p><strong>Exemplo</strong>:Imagine um estudo sobre apendicectomia incidental.</p>
<ul>
<li><p>Risco de infecção sem cirurgia: <span class="math inline">\(1,3\%\)</span></p></li>
<li><p>Risco de infecção com cirurgia: <span class="math inline">\(5,3\%\)</span></p></li>
</ul>
<p><span class="math display">\[RD = 5,3\% - 1,3\% = +4,0\%\]</span></p>
<p>Isso significa que a cirurgia adicionou um risco excedente de 4 pontos percentuais.</p>
<ul>
<li><p>Se <span class="math inline">\(RD = 0\)</span>: Não há efeito.</p></li>
<li><p>Se <span class="math inline">\(RD &lt; 0\)</span>: O tratamento reduziu o risco absoluto.</p></li>
<li><p>Se <span class="math inline">\(RD &gt; 0\)</span>: O tratamento aumentou o risco absoluto.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 1. Dados do Estudo (Exemplo Apendicectomia) ---</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo Tratado (Com cirurgia)</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>events_treat <span class="ot">&lt;-</span> <span class="dv">53</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>n_treat      <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>non_events_treat <span class="ot">&lt;-</span> n_treat <span class="sc">-</span> events_treat</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupo Controle (Sem cirurgia)</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>events_ctrl  <span class="ot">&lt;-</span> <span class="dv">13</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>n_ctrl       <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>non_events_ctrl <span class="ot">&lt;-</span> n_ctrl <span class="sc">-</span> events_ctrl</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 2. Cálculo dos Riscos ---</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>risk_treat <span class="ot">&lt;-</span> events_treat <span class="sc">/</span> n_treat</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>risk_ctrl  <span class="ot">&lt;-</span> events_ctrl <span class="sc">/</span> n_ctrl</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 3. Cálculo da Diferença de Risco (RD) ---</span></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>RD <span class="ot">&lt;-</span> risk_treat <span class="sc">-</span> risk_ctrl</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Risco Tratamento: %.1f%%</span><span class="sc">\n</span><span class="st">&quot;</span>, risk_treat <span class="sc">*</span> <span class="dv">100</span>))</span></code></pre></div>
<pre><code>Risco Tratamento: 5.3%</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Risco Controle:   %.1f%%</span><span class="sc">\n</span><span class="st">&quot;</span>, risk_ctrl <span class="sc">*</span> <span class="dv">100</span>))</span></code></pre></div>
<pre><code>Risco Controle:   1.3%</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Diferença de Risco (RD): %.3f (ou %.1f p.p.)</span><span class="sc">\n</span><span class="st">&quot;</span>, RD, RD<span class="sc">*</span><span class="dv">100</span>))</span></code></pre></div>
<pre><code>Diferença de Risco (RD): 0.040 (ou 4.0 p.p.)</code></pre>
</div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
